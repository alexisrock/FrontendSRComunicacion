{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"../../Services/login.service\";\nimport * as i5 from \"../../Services/auth.service\";\nimport * as i6 from \"primeng/card\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/inputtext\";\nimport * as i9 from \"primeng/toast\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, formbuilder, messageService, loginservices, authservices) {\n      this.router = router;\n      this.messageService = messageService;\n      this.loginservices = loginservices;\n      this.authservices = authservices;\n      this.myform = formbuilder.group({\n        idusuario: new FormControl('', Validators.compose([Validators.required])),\n        password: new FormControl('', Validators.compose([Validators.required]))\n      });\n    }\n    login() {\n      if (this.myform.valid) {\n        this.loginservices.login(this.myform.value.idusuario, this.myform.value.password).subscribe(data => {\n          console.log(data['idrol']);\n          if (data['idrol'] !== null) {\n            this.authservices.setIdRol(data['idrol']);\n            this.authservices.setCedula(data['documento']);\n            this.authservices.setName(data['username']);\n            this.authservices.setIduser(data['idUser']);\n            this.router.navigateByUrl('principal');\n          } else {\n            this.addSingle('Usuario / contraseña  incorrecto');\n          }\n        });\n      } else {\n        this.addSingle('Tiene campos sin llenar');\n      }\n    }\n    addSingle(mensaje) {\n      this.messageService.add({\n        severity: 'error',\n        summary: 'Error',\n        detail: mensaje\n      });\n    }\n    static {\n      this.ɵfac = function LoginComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.LoginService), i0.ɵɵdirectiveInject(i5.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginComponent,\n        selectors: [[\"app-login\"]],\n        decls: 16,\n        vars: 1,\n        consts: [[1, \"p-d-flex\", 3, \"formGroup\"], [1, \"p-grid\", \"p-flex-column\", \"p-flex-md-row\", 2, \"padding\", \"5% 5%\"], [1, \"Top\", \"Center\"], [1, \"p-flex-column\", \"p-grid\"], [1, \"p-fluid\"], [\"placeholder\", \"Usuario\", \"pInputText\", \"\", \"type\", \"text\", \"formControlName\", \"idusuario\"], [\"placeholder\", \"Contrase\\u00F1a\", \"pInputText\", \"\", \"type\", \"text\", \"formControlName\", \"password\"], [\"type\", \"button\", 1, \"button\", 3, \"click\"]],\n        template: function LoginComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1);\n            i0.ɵɵtext(2, \"\\u00A0\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(3, \"p-toast\", 2)(4, \"br\");\n            i0.ɵɵelementStart(5, \"p-card\", 3)(6, \"div\", 4)(7, \"div\");\n            i0.ɵɵelement(8, \"input\", 5)(9, \"br\")(10, \"br\")(11, \"input\", 6)(12, \"br\")(13, \"br\");\n            i0.ɵɵelementStart(14, \"p-button\", 7);\n            i0.ɵɵlistener(\"click\", function LoginComponent_Template_p_button_click_14_listener() {\n              return ctx.login();\n            });\n            i0.ɵɵtext(15, \"Ingresar\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"formGroup\", ctx.myform);\n          }\n        },\n        dependencies: [i6.Card, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i7.Button, i8.InputText, i9.Toast],\n        styles: [\".colorletra[_ngcontent-%COMP%]{color:red}\"]\n      });\n    }\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}