{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"src/app/Cliente/Services/remdem.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"primeng/button\";\nimport * as i7 from \"primeng/inputtext\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"primeng/panel\";\nimport * as i10 from \"primeng/dropdown\";\nimport * as i11 from \"../../header-menu/header-menu.component\";\nfunction RemdesComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.titulo);\n  }\n}\nfunction RemdesComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function RemdesComponent_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.atras());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RemdesComponent_ng_container_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validador_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", validador_r3.message, \" \");\n  }\n}\nfunction RemdesComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RemdesComponent_ng_container_13_div_1_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validador_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myform.get(\"documento\").hasError(validador_r3.type) && (ctx_r0.myform.get(\"documento\").dirty || ctx_r0.myform.get(\"documento\").touch));\n  }\n}\nfunction RemdesComponent_ng_container_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validador_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", validador_r4.message, \" \");\n  }\n}\nfunction RemdesComponent_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RemdesComponent_ng_container_21_div_1_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validador_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myform.get(\"nombre\").hasError(validador_r4.type) && (ctx_r0.myform.get(\"nombre\").dirty || ctx_r0.myform.get(\"nombre\").touch));\n  }\n}\nfunction RemdesComponent_ng_container_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validador_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", validador_r5.message, \" \");\n  }\n}\nfunction RemdesComponent_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RemdesComponent_ng_container_29_div_1_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validador_r5 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myform.get(\"apellidos\").hasError(validador_r5.type) && (ctx_r0.myform.get(\"apellidos\").dirty || ctx_r0.myform.get(\"apellidos\").touch));\n  }\n}\nfunction RemdesComponent_ng_container_36_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validador_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", validador_r6.message, \" \");\n  }\n}\nfunction RemdesComponent_ng_container_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RemdesComponent_ng_container_36_div_1_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validador_r6 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myform.get(\"direccion\").hasError(validador_r6.type) && (ctx_r0.myform.get(\"direccion\").dirty || ctx_r0.myform.get(\"direccion\").touch));\n  }\n}\nfunction RemdesComponent_ng_container_44_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validador_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", validador_r7.message, \" \");\n  }\n}\nfunction RemdesComponent_ng_container_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RemdesComponent_ng_container_44_div_1_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validador_r7 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myform.get(\"telefono\").hasError(validador_r7.type) && (ctx_r0.myform.get(\"telefono\").dirty || ctx_r0.myform.get(\"telefono\").touch));\n  }\n}\nexport let RemdesComponent = /*#__PURE__*/(() => {\n  class RemdesComponent {\n    constructor(router, formbuilder, messageService, RemdesServices) {\n      this.router = router;\n      this.messageService = messageService;\n      this.RemdesServices = RemdesServices;\n      this.displaychange = new EventEmitter();\n      this.listTiposRedDes = [];\n      this.verEditar = false;\n      this.displaybotton = false;\n      this.validation = {\n        documento: [{\n          type: 'required',\n          message: 'El campo es obligatorio'\n        }],\n        nombre: [{\n          type: 'required',\n          message: 'El campo es obligatorio'\n        }],\n        apellidos: [{\n          type: 'required',\n          message: 'El campo es obligatorio'\n        }],\n        direccion: [{\n          type: 'required',\n          message: 'El campo es obligatorio'\n        }],\n        telefono: [{\n          type: 'required',\n          message: 'El campo es obligatorio'\n        }]\n      };\n      this.myform = formbuilder.group({\n        documento: new FormControl('', Validators.compose([Validators.required])),\n        nombre: new FormControl('', Validators.compose([Validators.required])),\n        apellidos: new FormControl('', Validators.compose([Validators.required])),\n        direccion: new FormControl('', Validators.compose([Validators.required])),\n        telefono: new FormControl('', Validators.compose([Validators.required])),\n        idTipoRemDes: new FormControl('1', Validators.compose([Validators.required]))\n      });\n      this.GetTipoRemDes();\n      if (this.remdesditar !== undefined) {\n        this.displaybotton = true;\n        this.showDatos();\n      } else {\n        this.id = null;\n        this.displaybotton = false;\n      }\n    }\n    ngOnInit() {\n      this.showDatos();\n    }\n    showDatos() {\n      if (this.remdesditar !== undefined) {\n        this.myform.get('documento').setValue(this.remdesditar.documento);\n        this.myform.get('nombre').setValue(this.remdesditar.nombres);\n        this.myform.get('apellidos').setValue(this.remdesditar.apellidos);\n        this.myform.get('direccion').setValue(this.remdesditar.direccion);\n        this.myform.get('telefono').setValue(this.remdesditar.telefono);\n        this.myform.get('idTipoRemDes').setValue(this.remdesditar.idTipoRemDes);\n        this.titulo = \"Editar Rem / Des\";\n        this.verEditar = true;\n      } else {\n        this.displaybotton = true;\n        this.titulo = \"Rem  / Des\";\n        this.verEditar = false;\n        this.LimpiarFormulario();\n      }\n    }\n    GetTipoRemDes() {\n      this.RemdesServices.GetTipoRemdem().subscribe(data => {\n        this.listTiposRedDes = data;\n      });\n    }\n    Save() {\n      if (this.myform.valid) {\n        if (this.remdesditar != undefined) {\n          this.update();\n        } else {\n          this.add();\n        }\n      } else {\n        this.addSingle('error', 'Faltan datos por completar');\n      }\n    }\n    add() {\n      this.RemdesServices.remdem.documento = this.myform.value.documento;\n      this.RemdesServices.remdem.nombres = this.myform.value.nombre;\n      this.RemdesServices.remdem.apellidos = this.myform.value.apellidos;\n      this.RemdesServices.remdem.direccion = this.myform.value.direccion;\n      this.RemdesServices.remdem.telefono = this.myform.value.telefono;\n      this.RemdesServices.remdem.idTipoRemDes = this.myform.value.idTipoRemDes;\n      this.RemdesServices.Add().subscribe({\n        next: data => {\n          if (data['code'] == 1) {\n            this.LimpiarFormulario();\n            this.addSingle('success', data['descripcion']);\n          } else {\n            this.addSingle('error', data['descripcion']);\n          }\n        },\n        error: error => {\n          this.addSingle('error', error.message);\n        }\n      });\n    }\n    update() {\n      this.RemdesServices.remdem.idremitente = this.remdesditar.idremitente;\n      this.RemdesServices.remdem.documento = this.myform.value.documento;\n      this.RemdesServices.remdem.nombres = this.myform.value.nombre;\n      this.RemdesServices.remdem.apellidos = this.myform.value.apellidos;\n      this.RemdesServices.remdem.direccion = this.myform.value.direccion;\n      this.RemdesServices.remdem.telefono = this.myform.value.telefono;\n      this.RemdesServices.remdem.idTipoRemDes = this.myform.value.idTipoRemDes;\n      this.RemdesServices.update().subscribe(data => {\n        if (data['code'] == 1) {\n          this.displaychange.emit(true);\n        } else {\n          this.addSingle('error', data['descripcion']);\n        }\n      });\n    }\n    LimpiarFormulario() {\n      this.myform.reset();\n    }\n    addSingle(tipo, mensaje) {\n      if (tipo == 'success') {\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Service Message',\n          detail: 'Usuario creado con exito'\n        });\n      } else {\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: mensaje\n        });\n      }\n    }\n    atras() {\n      this.router.navigateByUrl('ListarRemdem');\n    }\n    static {\n      this.ɵfac = function RemdesComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || RemdesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.RemdemService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RemdesComponent,\n        selectors: [[\"app-remdes\"]],\n        inputs: {\n          remdesditar: \"remdesditar\"\n        },\n        outputs: {\n          displaychange: \"displaychange\"\n        },\n        decls: 53,\n        vars: 9,\n        consts: [[3, \"hidden\"], [\"pTemplate\", \"header\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"atras\", \"class\", \"p-button-outlined p-button-secondary\", 3, \"click\", 4, \"ngIf\"], [3, \"formGroup\"], [1, \"Top\", \"Center\"], [1, \"flex-form\"], [1, \"linea\"], [\"for\", \"documento\"], [\"id\", \"documento\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"documento\"], [1, \"validation-errors\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"nombre\"], [\"id\", \"nombre\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"nombre\"], [\"for\", \"apellidos\"], [\"id\", \"apellidos\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"apellidos\"], [\"for\", \"direccion\"], [\"id\", \"direccion\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"direccion\"], [\"for\", \"telefono\"], [\"id\", \"telefono\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"telefono\"], [\"for\", \"idTipoRemDes\"], [\"formControlName\", \"idTipoRemDes\", \"optionLabel\", \"descripcion\", \"optionValue\", \"idTipoRemDes\", 3, \"options\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Guardar\", 1, \"p-button-outlined\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"atras\", 1, \"p-button-outlined\", \"p-button-secondary\", 3, \"click\"], [4, \"ngIf\"]],\n        template: function RemdesComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-header-menu\", 0);\n            i0.ɵɵelementStart(1, \"p-panel\");\n            i0.ɵɵtemplate(2, RemdesComponent_ng_template_2_Template, 2, 1, \"ng-template\", 1)(3, RemdesComponent_button_3_Template, 1, 0, \"button\", 2);\n            i0.ɵɵelementStart(4, \"form\", 3);\n            i0.ɵɵelement(5, \"p-toast\", 4);\n            i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"label\", 7);\n            i0.ɵɵtext(9, \"Documento\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(10, \"\\u00A0 \");\n            i0.ɵɵelement(11, \"input\", 8);\n            i0.ɵɵelementStart(12, \"div\", 9);\n            i0.ɵɵtemplate(13, RemdesComponent_ng_container_13_Template, 2, 1, \"ng-container\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"div\", 6)(15, \"label\", 11);\n            i0.ɵɵtext(16, \"Nombre\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(17, \"\\u00A0 \");\n            i0.ɵɵelement(18, \"input\", 12);\n            i0.ɵɵtext(19, \"\\u00A0 \");\n            i0.ɵɵelementStart(20, \"div\", 9);\n            i0.ɵɵtemplate(21, RemdesComponent_ng_container_21_Template, 2, 1, \"ng-container\", 10);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(22, \"div\", 5)(23, \"div\", 6)(24, \"label\", 13);\n            i0.ɵɵtext(25, \"Apellidos\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(26, \"\\u00A0 \");\n            i0.ɵɵelement(27, \"input\", 14);\n            i0.ɵɵelementStart(28, \"div\", 9);\n            i0.ɵɵtemplate(29, RemdesComponent_ng_container_29_Template, 2, 1, \"ng-container\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"div\", 6)(31, \"label\", 15);\n            i0.ɵɵtext(32, \"Direccion\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(33, \"\\u00A0 \");\n            i0.ɵɵelement(34, \"input\", 16);\n            i0.ɵɵelementStart(35, \"div\", 9);\n            i0.ɵɵtemplate(36, RemdesComponent_ng_container_36_Template, 2, 1, \"ng-container\", 10);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(37, \"div\", 5)(38, \"div\", 6)(39, \"label\", 17);\n            i0.ɵɵtext(40, \"Telefono\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(41, \"\\u00A0 \");\n            i0.ɵɵelement(42, \"input\", 18);\n            i0.ɵɵelementStart(43, \"div\", 9);\n            i0.ɵɵtemplate(44, RemdesComponent_ng_container_44_Template, 2, 1, \"ng-container\", 10);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\", 6)(46, \"label\", 19);\n            i0.ɵɵtext(47, \"Tipo Rem / Des\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(48, \"\\u00A0 \");\n            i0.ɵɵelement(49, \"p-dropdown\", 20);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(50, \"div\", 5)(51, \"div\", 6)(52, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function RemdesComponent_Template_button_click_52_listener() {\n              return ctx.Save();\n            });\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"hidden\", ctx.verEditar);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.displaybotton);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.myform);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngForOf\", ctx.validation.documento);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.validation.nombre);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.validation.apellidos);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.validation.direccion);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.validation.telefono);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"options\", ctx.listTiposRedDes);\n          }\n        },\n        dependencies: [i5.NgForOf, i5.NgIf, i3.PrimeTemplate, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i6.ButtonDirective, i7.InputText, i8.Toast, i9.Panel, i10.Dropdown, i11.HeaderMenuComponent]\n      });\n    }\n  }\n  return RemdesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}